<div class="book-store-header-cnt">
  <div class="book-store-header-left-cnt">
    <div class="book-store-header-logo" (click)="handleHeaderMenuClick('logo')">
      <img src="../../../assets/logo/logo.png" alt="" />
      <span>Bookstore</span>
    </div>
    <div class="header-searchbar">
      <mat-icon svgIcon="search"></mat-icon>
      <input
        type="text"
        placeholder="Search..."
        [(ngModel)]="searchQuery"
        (input)="handleSearch()"
      />
    </div>
  </div>

  <div class="book-store-header-right-cnt">
    <div class="book-store-header-btns">
      <div class="header-btns" [matMenuTriggerFor]="loginMenu">
        <mat-icon svgIcon="profile"></mat-icon>
        Profile

        <mat-menu #loginMenu="matMenu">
          <div
            class="header-mat-menu-inner-cnt"
            *ngIf="
              currentRoute != 'admin' && currentState == 'loggedOut';
              else elsePart
            "
            style="padding: 0px 20px"
          >
            <p style="font-size: small; font-weight: bold">Welcome</p>
            <p style="font-size: small">To access and manage orders</p>
            <button class="login" (click)="handleHeaderMenuClick('login')">
              Login/SignUp
            </button>
            <button class="loginAsAdmin" (click)="handleHeaderMenuClick('admin-login')">Admin</button>
            <hr />
            <div
              class="mat-menu-btns"
              style="display: flex; flex-direction: column"
            >
              <button
                class="menu-button-item"
                (click)="handleHeaderMenuClick('myOrders')"
              >
                <mat-icon svgIcon="shopping-bag"></mat-icon>My Orders
              </button>
              <button
                class="menu-button-item"
                (click)="handleHeaderMenuClick('myWishList')"
              >
                <mat-icon svgIcon="heart"></mat-icon>My Wishlist
              </button>
            </div>
          </div>
          <ng-template #elsePart >
            <div *ngIf="currentRoute != 'admin' &&  currentState == 'loggedIn'; else admin"
              class="header-mat-menu-inner-cnt"
              style="display: flex; flex-direction: column; padding: 0px 20px"
            >
              <p style="font-weight: bold">Hello Alexa,</p>
              <button
                class="menu-button-item"
                (click)="handleHeaderMenuClick('profile')"
              >
                <mat-icon svgIcon="profile">Profile</mat-icon> Profile
              </button>
              <button
                class="menu-button-item"
                (click)="handleHeaderMenuClick('myOrders')"
              >
                <mat-icon svgIcon="shopping-bag"></mat-icon>My Orders
              </button>
              <button
                class="menu-button-item"
                (click)="handleHeaderMenuClick('myWishList')"
              >
                <mat-icon svgIcon="heart"></mat-icon>My Wishlist
              </button>
              <button class="logout" (click)="handleHeaderMenuClick('logout')">
                Logout
              </button>
            </div>
          </ng-template>
          <ng-template #admin > 
            <div
              class="header-mat-menu-inner-cnt"
              style="display: flex; flex-direction: column; padding: 0px 20px;width: 150px; justify-content: center;"
            >
            <h2>Hi Admin!</h2>
            <button class="adminbtns" (click)="handleHeaderMenuClick('add-book')">Add Book</button>

          </div>
          </ng-template>
        </mat-menu>
      </div>

      <div class="header-btns"  (click)="handleHeaderMenuClick('cartlist')" *ngIf="currentRoute != 'admin'">
        <mat-icon matBadge={{cartLength}} svgIcon="cart"></mat-icon>Cart
       
      </div>
    </div>
  </div>
</div>
